<!doctype html>
<html lang="zh" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0012FF7C企业族谱分析作品</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/htmleaf-demo.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/modernizr.js"></script>
</head>
<body>
<header class="cd-main-header animate-search">
    <div class="cd-logo"><a href="#0"><img src="img/cd-logo.svg" alt="Logo"></a></div>

    <nav class="cd-main-nav-wrapper">
        <a href="#search" class="cd-search-trigger cd-text-replace">Search</a>

        <ul class="cd-main-nav">
            <li><a href="#0">Products</a></li>
            <li><a href="#0">Store</a></li>
            <li><a href="#0">Blog</a></li>
            <li><a href="#0">Contact</a></li>
        </ul> <!-- .cd-main-nav -->
    </nav> <!-- .cd-main-nav-wrapper -->

    <a href="#0" class="cd-nav-trigger cd-text-replace">Menu<span></span></a>
</header>

<main class="cd-main-content">
    <!-- your content here -->
    <div class="content-center">
        <!-- <h1>Advanced Search Form</h1> -->
        <header class="htmleaf-header">
            <h1>企业数据分析<span>大连理工大学软件学院0012FF7C团队</span></h1>
            <div class="htmleaf-links">
                <a class="htmleaf-icon icon-htmleaf-home-outline" href="/"  ><span> jQuery之家</span></a>
                <a class="htmleaf-icon icon-htmleaf-arrow-forward-outline" onclick="window.history.go(-1)" ><span> 返回下载页</span></a>
            </div>

        </header>
    </div>
</main>

<div id="search" class="cd-main-search">
    <form>
        <input id="textedit" type="search" placeholder="Search...">

        <div class="cd-select">
            <span>in</span>
            <select id="select-category">
                <option value="TorpBaseInfo" >企业基本信息</option>
                <option value="OwnershipStructure">股权结构</option>
                <option value="InvestmentGenealogy">投资族谱</option>
                <option value="EnterpriseAtlas">企业图谱</option>
                <option value="DoubtfulRelationship">疑似关系</option>
            </select>
            <span class="selected-value">企业基本信息</span>
        </div>
    </form>

    <div class="cd-search-suggestions">
        <div class="news">
            <h3>News</h3>
            <ul id="AssociativeSearch">
                <!--<li>-->
                    <!--<a class="image-wrapper" href="#0"><img src="img/placeholder.png" alt="News image"></a>-->
                    <!--<h4><a class="cd-nowrap" href="#0">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</a></h4>-->
                    <!--<time datetime="2016-01-12">Feb 03, 2016</time>-->
                <!--</li>-->

                <!--<li>-->
                    <!--<a class="image-wrapper" href="#0"><img src="img/placeholder.png" alt="News image"></a>-->
                    <!--<h4><a class="cd-nowrap" href="#0">Incidunt voluptatem adipisci voluptates fugit beatae culpa eum, distinctio, assumenda est ad</a></h4>-->
                    <!--<time datetime="2016-01-12">Jan 28, 2016</time>-->
                <!--</li>-->

                <!--<li>-->
                    <!--<a class="image-wrapper" href="#0"><img src="img/placeholder.png" alt="News image"></a>-->
                    <!--<h4><a class="cd-nowrap" href="#0">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, esse.</a></h4>-->
                    <!--<time datetime="2016-01-12">Jan 12, 2016</time>-->
                <!--</li>-->
            </ul>
        </div> <!-- .news -->

        <!--<div class="quick-links">-->
            <!--<h3>Quick Links</h3>-->
            <!--<ul>-->
                <!--<li><a href="#0">Find a store</a></li>-->
                <!--<li><a href="#0">Accessories</a></li>-->
                <!--<li><a href="#0">Warranty info</a></li>-->
                <!--<li><a href="#0">Support</a></li>-->
                <!--<li><a href="#0">Contact us</a></li>-->
            <!--</ul>-->
        <!--</div>-->
    </div>

    <a href="#0" class="close cd-text-replace">Close Form</a>
</div>
<div class="cd-cover-layer"></div>


<script src="js/jquery-2.1.1.min.js"></script>
<script src="js/main.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function($){
        var resizing = false,
            isSpread=false,
            navigationWrapper = $('.cd-main-nav-wrapper'),
            navigation = navigationWrapper.children('.cd-main-nav'),
            searchForm = $('.cd-main-search'),
            pageContent = $('.cd-main-content'),
            searchTrigger = $('.cd-search-trigger'),
            coverLayer = $('.cd-cover-layer'),
            navigationTrigger = $('.cd-nav-trigger'),
            mainHeader = $('.cd-main-header');

        function checkWindowWidth() {
            var mq = window.getComputedStyle(mainHeader.get(0), '::before').getPropertyValue('content').replace(/"/g, '').replace(/'/g, "");
            return mq;
        }

        function checkResize() {
            if( !resizing ) {
                resizing = true;
                (!window.requestAnimationFrame) ? setTimeout(moveNavigation, 300) : window.requestAnimationFrame(moveNavigation);
            }
        }

        function moveNavigation(){
            var screenSize = checkWindowWidth();
            if ( screenSize == 'desktop' && (navigationTrigger.siblings('.cd-main-search').length == 0) ) {
                //desktop screen - insert navigation and search form inside <header>
                searchForm.detach().insertBefore(navigationTrigger);
                navigationWrapper.detach().insertBefore(searchForm).find('.cd-serch-wrapper').remove();
            } else if( screenSize == 'mobile' && !(mainHeader.children('.cd-main-nav-wrapper').length == 0)) {
                //mobile screen - move navigation and search form after .cd-main-content element
                navigationWrapper.detach().insertAfter('.cd-main-content');
                var newListItem = $('<li class="cd-serch-wrapper"></li>');
                searchForm.detach().appendTo(newListItem);
                newListItem.appendTo(navigation);
            }

            resizing = false;
        }

        function closeSearchForm() {
            searchTrigger.removeClass('search-form-visible');
            searchForm.removeClass('is-visible');
            coverLayer.removeClass('search-form-visible');
        }

        //add the .no-pointerevents class to the <html> if browser doesn't support pointer-events property
        ( !Modernizr.testProp('pointerEvents') ) && $('html').addClass('no-pointerevents');

        //move navigation and search form elements according to window width
        moveNavigation();
        $(window).on('resize', checkResize);

        //mobile version - open/close navigation
        navigationTrigger.on('click', function(event){
            event.preventDefault();
            mainHeader.add(navigation).add(pageContent).toggleClass('nav-is-visible');
        });

        searchTrigger.on('click', function(event){
            event.preventDefault();
            if( searchTrigger.hasClass('search-form-visible') ) {
                searchForm.find('form').submit();
            } else {
                searchTrigger.addClass('search-form-visible');
                coverLayer.addClass('search-form-visible');
                searchForm.addClass('is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){
                    searchForm.find('input[type="search"]').focus().end().off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');
                });
            }
        });
        searchForm.submit(function () {
            var val = $("#textedit").val();
            var selOp = $("#select-category").val();
            $.ajax({
                type: "post",
                url: "/",
                data: {val: val, opt: selOp},
                dataType: "json",
                success: function (data) {
                    var htm = "";
                    data=data.data;
                    //alert(JSON.stringify(data));
                    for (var i=0;i<data.length;i++){
                        var data1 = data[i].CORP_NAME;
                        var html='';
                            html += '<li>';
                            html += '<a class="image-wrapper" href="#0"><img src="img/placeholder.png" alt="News image"></a>';
                            html += '<h4><a class="cd-nowrap" href="#0">'+data[i].CORP_NAME + '</a></h4>';
                            html += '<time datetime="2016-01-12">'+'Jan 28, 2016'+'</time>';
                        html +='</li>';
                        $("#AssociativeSearch").append(html);
                    }
                    //alert(htm);
                    //closeSearchForm();
                }
            });
        });
        //close search form
        searchForm.on('click', '.close', function(){
            //closeSearchForm();
        });

        coverLayer.on('click', function(){
            //closeSearchForm();
        });

        $(document).keyup(function(event){
            if( event.which=='27' ) closeSearchForm();
        });

        //upadate span.selected-value text when user selects a new option
        searchForm.on('change', 'select', function(){
            searchForm.find('.selected-value').text($(this).children('option:selected').text());
        });
    });

</script>
</body>
</html>